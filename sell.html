<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sell Item - Sanuyo</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 500px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px #ccc;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            border: 1px solid #bbb;
            border-radius: 4px;
        }
        button {
            width: 100%;
            background: #008cff;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover { background: #006fd3; }
    </style>

    <!-- Firebase SDKs (Option B – Using CDN links) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
</head>

<body>

<div class="container">
    <h2>Sell an Item</h2>

    <input type="text" id="sellerName" placeholder="Your Name" required>
    <input type="text" id="phone" placeholder="Phone Number" required>
    <input type="text" id="productName" placeholder="Product Name" required>
    <textarea id="description" placeholder="Product Description" required></textarea>
    <input type="number" id="price" placeholder="Price (₦)" required>
    <input type="text" id="imageUrl" placeholder="Image URL (optional)">

    <button onclick="submitProduct()">Submit Product</button>

    <p id="status" style="margin-top: 10px; color: green;"></p>
</div>

<script>
    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDcSCU5TIout3oQm1ADYISmuf3M1--1JLY",
        authDomain: "sanuyo-website.firebaseapp.com",
        projectId: "sanuyo-website",
        storageBucket: "sanuyo-website.firebasestorage.app",
        messagingSenderId: "765213630366",
        appId: "1:765213630366:web:03279e61a58289b088808f"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Add product to Firestore
    function submitProduct() {
        let name = document.getElementById("sellerName").value;
        let phone = document.getElementById("phone").value;
        let product = document.getElementById("productName").value;
        let desc = document.getElementById("description").value;
        let price = document.getElementById("price").value;
        let img = document.getElementById("imageUrl").value;

        if (!name || !phone || !product || !desc || !price) {
            alert("Please fill all required fields.");
            return;
        }

        db.collection("products").add({
            sellerName: name,
            phone: phone,
            productName: product,
            description: desc,
            price: Number(price),
            imageUrl: img,
            timestamp: new Date()
        })
        .then(() => {
            document.getElementById("status").innerText = "Product submitted successfully!";
        })
        .catch((error) => {
            alert("Error: " + error);
        });
    }
</script>

</body>
</html>
