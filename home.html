<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyMarket - Home</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- HEADER -->
    <header class="header">
        <div class="logo">MyMarket</div>

        <nav class="nav-links">
            <a href="home.html" class="active">Home</a>
            <a href="products.html">Products</a>
            <a href="sell.html">Sell</a>
        </nav>
    </header>

    <!-- SEARCH BAR -->
    <div class="search-area">
        <input type="text" id="searchInput" placeholder="Search for products...">
    </div>

    <!-- CATEGORY SECTION -->
    <h2 class="section-title">Categories</h2>
    <div class="categories">
        <div class="category-item">Phones</div>
        <div class="category-item">Electronics</div>
        <div class="category-item">Fashion</div>
        <div class="category-item">Home Appliances</div>
        <div class="category-item">Computers</div>
        <div class="category-item">Kids</div>
        <div class="category-item">Beauty</div>
        <div class="category-item">Others</div>
    </div>

    <!-- LATEST PRODUCTS SECTION -->
    <h2 class="section-title">Latest Products</h2>

    <div id="productList" class="product-grid">
        <!-- Products added from JS -->
    </div>

    <script>
        function loadProducts() {
            const products = JSON.parse(localStorage.getItem("products")) || [];

            const productList = document.getElementById("productList");
            productList.innerHTML = "";

            products.forEach((p, index) => {
                const card = document.createElement("div");
                card.className = "product-card";
                card.onclick = () => openProduct(index);

                card.innerHTML = `
                    <img src="${p.image}" class="product-img">

                    <div class="product-info">
                        <h3 class="product-title">${p.name}</h3>
                        <p class="product-price">â‚¦${p.price}</p>
                    </div>
                `;

                productList.appendChild(card);
            });
        }

        function openProduct(index) {
            const products = JSON.parse(localStorage.getItem("products")) || [];
            localStorage.setItem("selectedProduct", JSON.stringify(products[index]));
            window.location.href = "product.html";
        }

        // SEARCH FUNCTION
        document.getElementById("searchInput").addEventListener("keyup", function () {
            const searchText = this.value.toLowerCase();
            const cards = document.querySelectorAll(".product-card");

            cards.forEach(card => {
                const name = card.querySelector(".product-title").textContent.toLowerCase();
                card.style.display = name.includes(searchText) ? "block" : "none";
            });
        });

        loadProducts();
    </script>

</body>
</html>
